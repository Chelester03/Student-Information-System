<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Information System</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex justify-center items-center h-screen">
    <div class="w-4/5 bg-white p-6 rounded-lg shadow-lg">
        <h2 class="text-2xl font-semibold text-gray-700 text-center">Student Information System</h2>
        <div class="flex justify-between items-center mt-4">
            <button id="addStudentBtn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">+ Add Student</button>
            <input type="text" id="search" placeholder="Search by Name, ID, or Course" class="border p-2 rounded w-1/3">
        </div>
        
        <table class="w-full mt-4 border-collapse border border-gray-300" id="studentTable">
            <thead>
                <tr class="bg-blue-500 text-white">
                    <th class="p-2 cursor-pointer" onclick="sortTable(0)">Name</th>
                    <th class="p-2 cursor-pointer" onclick="sortTable(1)">Student ID</th>
                    <th class="p-2">Contact</th>
                    <th class="p-2 cursor-pointer" onclick="sortTable(3)">Course/Grade</th>
                    <th class="p-2">Actions</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <div id="pagination" class="mt-4"></div>
    </div>
    
    <div id="modal" class="fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg w-1/3">
            <span class="text-gray-600 cursor-pointer float-right" onclick="closeModal()">&times;</span>
            <h3 class="text-xl font-semibold text-gray-700 text-center mb-4">Add Student</h3>
            <div class="flex items-center space-x-6">
                <div class="w-32 h-32 bg-gray-200 rounded-full flex justify-center items-center">
                    <img src="student.jpg" alt="Student Image" id="studentImage" class="w-32 h-32 rounded-full">
                </div>
                <div class="flex-1">
                    <input type="text" id="name" placeholder="Name" class="border p-2 rounded w-full mb-2">
                    <input type="number" id="studentId" placeholder="Student ID" class="border p-2 rounded w-full mb-2">
                    <input type="number" id="contact" placeholder="Contact" maxlength="11" class="border p-2 rounded w-full mb-2">
                    <input type="text" id="course" placeholder="Course/Grade" class="border p-2 rounded w-full">
                </div>
            </div>
            <button id="saveStudentBtn" class="bg-blue-500 text-white px-4 py-2 rounded mt-4 w-full hover:bg-blue-600">Save</button>
        </div>
    </div>
    
    <script>
        let selectedRow = null;

        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("addStudentBtn").addEventListener("click", function () {
                selectedRow = null;
                resetForm();
                document.getElementById("modal").classList.remove("hidden");
            });

            document.getElementById("modal").addEventListener("click", function (e) {
                if (e.target === this) closeModal();
            });

            document.getElementById("saveStudentBtn").addEventListener("click", saveStudent);
            document.getElementById("search").addEventListener("keyup", searchStudent);
        });

        function saveStudent() {
            const name = document.getElementById("name").value.trim();
            const studentId = document.getElementById("studentId").value.trim();
            const contact = document.getElementById("contact").value.trim();
            const course = document.getElementById("course").value.trim();

            if (!name || !studentId || !contact || !course) {
                alert("Please fill out all fields.");
                return;
            }

            if (contact.length > 11) {
                alert("Contact number must be 11 digits or less.");
                return;
            }

            if (selectedRow) {
                selectedRow.cells[0].innerText = name;
                selectedRow.cells[1].innerText = studentId;
                selectedRow.cells[2].innerText = contact;
                selectedRow.cells[3].innerText = course;
            } else {
                const tableBody = document.querySelector("#studentTable tbody");
                const newRow = document.createElement("tr");
                newRow.innerHTML = `
                    <td class="p-2">${name}</td>
                    <td class="p-2">${studentId}</td>
                    <td class="p-2">${contact}</td>
                    <td class="p-2">${course}</td>
                    <td class="p-2">
                        <button class="bg-yellow-500 text-white px-2 py-1 rounded mr-2" onclick="editStudent(this)">Edit</button>
                        <button class="bg-red-500 text-white px-2 py-1 rounded" onclick="deleteStudent(this)">Delete</button>
                    </td>
                `;
                tableBody.appendChild(newRow);
            }

            resetForm();
            closeModal();
        }

        function editStudent(button) {
            selectedRow = button.closest("tr");
            document.getElementById("name").value = selectedRow.cells[0].innerText;
            document.getElementById("studentId").value = selectedRow.cells[1].innerText;
            document.getElementById("contact").value = selectedRow.cells[2].innerText;
            document.getElementById("course").value = selectedRow.cells[3].innerText;
            document.getElementById("modal").classList.remove("hidden");
        }

        function resetForm() {
            document.getElementById("name").value = "";
            document.getElementById("studentId").value = "";
            document.getElementById("contact").value = "";
            document.getElementById("course").value = "";
        }

        function closeModal() {
            document.getElementById("modal").classList.add("hidden");
        }

        function deleteStudent(button) {
            if (confirm("Are you sure? This student will be deleted!")) {
                button.closest("tr").remove();
                alert("Student has been removed.");
            }
        }

        function searchStudent() {
            let filter = document.getElementById("search").value.toLowerCase();
            let rows = document.querySelectorAll("#studentTable tbody tr");
            rows.forEach(row => {
                let text = row.innerText.toLowerCase();
                row.style.display = text.includes(filter) ? "" : "none";
            });
        }
    </script>
</body>
</html>
